
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quickstart &#8212; Alab Experiment Helper 0.0.1 documentation</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tasks Overview" href="tasks.html" />
    <link rel="prev" title="Installation" href="installation.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Alab Experiment Helper 0.0.1 documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p class="caption">
 <span class="caption-text">
  Introduction
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="installation.html">
   Installation
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Quickstart
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tasks.html">
   Tasks Overview
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="modules.html">
   API Docs
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="alab_experiment_helper.html">
     alab_experiment_helper package
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="alab_experiment_helper.tasks.html">
       alab_experiment_helper.tasks package
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
      <label for="toctree-checkbox-3">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="alab_experiment_helper.tasks.base.html">
         alab_experiment_helper.tasks.base module
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="alab_experiment_helper.tasks.dispensing.html">
         alab_experiment_helper.tasks.dispensing module
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="alab_experiment_helper.tasks.disposing.html">
         alab_experiment_helper.tasks.disposing module
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="alab_experiment_helper.tasks.heating.html">
         alab_experiment_helper.tasks.heating module
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="alab_experiment_helper.tasks.heating_with_atmosphere.html">
         alab_experiment_helper.tasks.heating_with_atmosphere module
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="alab_experiment_helper.tasks.scraping.html">
         alab_experiment_helper.tasks.scraping module
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="alab_experiment_helper.tasks.xrd.html">
         alab_experiment_helper.tasks.xrd module
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="alab_experiment_helper.experiment.html">
       alab_experiment_helper.experiment module
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="alab_experiment_helper.sample.html">
       alab_experiment_helper.sample module
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/quickstart.rst.txt"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.rst</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#more-details">
   More details
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#generating-the-input-file">
     Generating the input file
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#visualizing-the-experiment-graph">
     Visualizing the experiment graph
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Quickstart</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#more-details">
   More details
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#generating-the-input-file">
     Generating the input file
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#visualizing-the-experiment-graph">
     Visualizing the experiment graph
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="section" id="quickstart">
<span id="id1"></span><h1>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this headline">¶</a></h1>
<p>Basically, you need to define an experiment first. Then you will add <code class="docutils literal notranslate"><span class="pre">sample</span></code>
to the experiment. Each sample will have some operations and finally, you can
generate the input file, which can be submitted to the Alab Management software
directly.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">alab_experiment_helper</span> <span class="kn">import</span> <span class="n">Experiment</span>

<span class="n">experiment</span> <span class="o">=</span> <span class="n">Experiment</span><span class="p">(</span><span class="s2">&quot;test_experiment&quot;</span><span class="p">)</span>

<span class="c1"># Sample Declaration</span>
<span class="n">samples</span> <span class="o">=</span> <span class="p">[</span><span class="n">experiment</span><span class="o">.</span><span class="n">add_sample</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;sample_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">16</span><span class="p">)]</span>
<span class="n">sample_group_1</span> <span class="o">=</span> <span class="n">samples</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span>
<span class="n">sample_group_2</span> <span class="o">=</span> <span class="n">samples</span><span class="p">[</span><span class="mi">8</span><span class="p">:</span><span class="mi">12</span><span class="p">]</span>
<span class="n">sample_group_3</span> <span class="o">=</span> <span class="n">samples</span><span class="p">[</span><span class="mi">12</span><span class="p">:</span><span class="mi">16</span><span class="p">]</span>

<span class="c1"># Task Declaration</span>
<span class="n">dispensing</span><span class="p">(</span><span class="n">samples</span><span class="p">,</span> <span class="n">input_file_path</span><span class="o">=</span><span class="s2">&quot;example.csv&quot;</span><span class="p">)</span>

<span class="n">heating</span><span class="p">(</span><span class="n">sample_group_1</span><span class="p">,</span> <span class="p">[[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span> <span class="p">[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">600</span><span class="p">]])</span>
<span class="n">heating_with_atmosphere</span><span class="p">(</span><span class="n">sample_group_2</span><span class="p">,</span> <span class="p">[[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span> <span class="p">[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">600</span><span class="p">]],</span> <span class="n">atmosphere</span><span class="o">=</span><span class="s2">&quot;Ar&quot;</span><span class="p">)</span>
<span class="n">heating_with_atmosphere</span><span class="p">(</span><span class="n">sample_group_3</span><span class="p">,</span> <span class="p">[[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span> <span class="p">[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">600</span><span class="p">]],</span> <span class="n">atmosphere</span><span class="o">=</span><span class="s2">&quot;N2&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">sample</span> <span class="ow">in</span> <span class="n">samples</span><span class="p">:</span>
    <span class="n">scraping</span><span class="p">(</span><span class="n">sample</span><span class="p">,</span> <span class="n">duration_min</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">ball_number</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
    <span class="n">xrd</span><span class="p">(</span><span class="n">sample</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="s2">&quot;fast_10min&quot;</span><span class="p">)</span>
    <span class="n">disposing</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>

<span class="c1"># Generate the input file with JSON format</span>
<span class="n">experiment</span><span class="o">.</span><span class="n">generate_input_file</span><span class="p">(</span><span class="s2">&quot;test.json&quot;</span><span class="p">,</span> <span class="s2">&quot;json&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The task generated is something like this:</p>
<img alt="_images/task_graph.png" src="_images/task_graph.png" />
<div class="section" id="more-details">
<h2>More details<a class="headerlink" href="#more-details" title="Permalink to this headline">¶</a></h2>
<p>The whole package tries to make the task generation a declarative process, where each
script should describe one <code class="docutils literal notranslate"><span class="pre">Experiment</span></code>. In the Alab Workflow System, an experiment
is a list of samples to be made, where a sequence of tasks will be operated on the
samples.</p>
<p>The input file can be divided into two parts: <code class="docutils literal notranslate"><span class="pre">Sample</span> <span class="pre">Declaration</span></code> and <code class="docutils literal notranslate"><span class="pre">Task</span>
<span class="pre">Declaration</span></code>.</p>
<p>At the top of each script, you should declare an <code class="docutils literal notranslate"><span class="pre">Experiment</span></code> object, like this</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">alab_experiment_helper</span> <span class="kn">import</span> <span class="n">Experiment</span>

<span class="c1"># The name can be any names you like. But a clear and unique name will</span>
<span class="c1"># help you find the information you want more easily later.</span>
<span class="n">experiment</span> <span class="o">=</span> <span class="n">Experiment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;test_experiment&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Then, you can add samples to the experiment, which is the <code class="docutils literal notranslate"><span class="pre">Sample</span> <span class="pre">Declaration</span></code> part</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># the name of samples should be unique, which you will refer to it</span>
<span class="c1"># later in the task definition.</span>
<span class="n">samples</span> <span class="o">=</span> <span class="p">[</span><span class="n">experiment</span><span class="o">.</span><span class="n">add_sample</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;sample_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">16</span><span class="p">)]</span>
</pre></div>
</div>
<p>After declaring the samples, you need to specify which kind of tasks you want to do on
each sample. The task will be conducted in order. The package will automatically record
the order of the tasks based on the order of declaration. Each task is a function that
receives one or a list of samples as well as many task specified parameters.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The available tasks can be found in the <a class="reference external" href="tasks.html">Tasks Overview</a> section.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">alab_experiment_helper.tasks</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">dispensing</span><span class="p">(</span><span class="n">samples</span><span class="p">,</span> <span class="n">input_file_path</span><span class="o">=</span><span class="s2">&quot;example.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="generating-the-input-file">
<h3>Generating the input file<a class="headerlink" href="#generating-the-input-file" title="Permalink to this headline">¶</a></h3>
<p>Finally, you can choose to generate the input file and save it to a certain path. Currently,
we support two formats: <code class="docutils literal notranslate"><span class="pre">json</span></code> and <code class="docutils literal notranslate"><span class="pre">yaml</span></code>. Both files can be submitted to the workflow
software without any problem.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># first argument: the path to save the input file</span>
<span class="c1"># second argument: the format of the input file, can be either ``json`` or ``yaml``</span>
<span class="n">experiment</span><span class="o">.</span><span class="n">generate_input_file</span><span class="p">(</span><span class="s2">&quot;test.json&quot;</span><span class="p">,</span> <span class="s2">&quot;json&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="visualizing-the-experiment-graph">
<h3>Visualizing the experiment graph<a class="headerlink" href="#visualizing-the-experiment-graph" title="Permalink to this headline">¶</a></h3>
<p>As we talked about before, the tasks have orders. Internally, we represent the tasks as
a directed graph. The graph can be visualized by using the <code class="docutils literal notranslate"><span class="pre">visualize</span></code> function of
<code class="docutils literal notranslate"><span class="pre">Experiment</span></code> object.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Before you use this function, you need to install <code class="docutils literal notranslate"><span class="pre">graphviz</span></code>, which you can
find useful information in the <a class="reference external" href="http://www.graphviz.org/">graphviz website</a>.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># The first argument is the path to save the graph image</span>
<span class="c1"># The second argument is the format of the image, can be</span>
<span class="c1"># ``png``, ``svg``, ``jpg`` or ``pdf``</span>
<span class="n">experiment</span><span class="o">.</span><span class="n">visualize</span><span class="p">(</span><span class="s2">&quot;figure.png&quot;</span><span class="p">,</span> <span class="s2">&quot;png&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>


              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="installation.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Installation</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="tasks.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Tasks Overview</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Alab Project Team<br/>
    
        &copy; Copyright 2022, Alab Project Team.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>